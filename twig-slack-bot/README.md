# twig-slack-bot

This is an example of how [Twig](https://github.com/buildit/twig) can be used to display various Buildit slack channels over the course of a set interval. In this example, that interval is set to 24 hours.

To run locally, clone the repo. Set a Slack API token as a TOKEN variable in .env.

On Twig, create a twiglet with an appropriate model (there is a slack model that exists on [staging](http://staging.twig2.riglet/model/slack)). You can edit the config.js file to change the slack channels, the array range that adjusts the node colors, twiglet name, time interval, slack token, api url, etc. Make sure the twiglet name matches the correct twiglet you want to send events to. 

Then run in the terminal:
```Shell
TOKEN=SLACK_TOKEN TWIG_SLACK_API=API_URL node index.js
```
where SLACK_TOKEN is the Slack token and API_URL is either the local or staging Twig API url.

An example of a twiglet generated by a slack bot (deployed in the Buildit Riglet): [https://staging-twig.buildit.tools/twiglet/slack-demo](https://staging-twig.buildit.tools/twiglet/slack-demo)

To see another example of creating events via API (not using the Slack api) check out [https://github.com/buildit/twig/wiki/Creating-events-via-API-(nodeJS-using-request-promise-native)](https://github.com/buildit/twig/wiki/Creating-events-via-API-(nodeJS-using-request-promise-native))
