<div class="indent" [formGroup]="targetControl">
  <select formControlName="type" class="form-control">
    <option value="">All Node Types</option>
    <option *ngFor="let typeOption of types">{{typeOption}}</option>
  </select>
  <div formArrayName="attributes">
    <div *ngFor="let attribute of targetControl.controls['attributes']['controls']; let j = index; " [formGroupName]="j">
      <select formControlName="key" class="form-control">
        <option value="">All Attributes</option>
        <option *ngFor="let key of keys(targetControl)">{{key}}</option>
      </select>
      <select formControlName="value" class="form-control">
        <option value="">All Attribute Values</option>
        <option *ngFor="let value of values(attribute)">{{value}}</option>
      </select>
    </div>
  </div>
  <div *ngIf="targetControl.value._target">
    <app-twiglet-filter-target [formControl]="targetControl['_target']"></app-twiglet-filter-target>
  </div>
</div>
